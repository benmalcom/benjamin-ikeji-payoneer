(this["webpackJsonppayoneer-germany-test"]=this["webpackJsonppayoneer-germany-test"]||[]).push([[0],{136:function(e,t,a){e.exports={box:"Loading_box__2w-WH"}},139:function(e,t,a){e.exports={box:"DailyWeatherChart_box__rqICc"}},302:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(30),c=a.n(r),o=a(36),i=a(140),s=a(11),u=a(73),l=a(330),d=a(28),b=a.n(d),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return{START:"@@[".concat(t,"] ").concat(e),SUCCESS:"@@[".concat(t,"] ").concat(e,"_SUCCESS"),ERROR:"@@[".concat(t,"] ").concat(e,"_ERROR"),END:"@@[".concat(t,"] ").concat(e,"_END")}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return"@@[".concat(t,"] ").concat(e)},j=f("FETCH_FORECASTS","Weather"),m=f("RESET_FORECAST_STATE","Weather"),h=p("APPLY_METRICS_TO_FORECASTS","Forecast"),g=p("UPDATE_FORECAST_LIST","Forecast"),O=p("SET_CURRENT_METRIC","Temperature"),v=function(e){return{type:O,payload:e}},x=f("API_REQUEST","Api Request"),y="UPDATE_PAGINATION",_="UPDATE_ERROR_STATE",C="UPDATE_LOADING_STATE",S=function(e,t){return{type:C,key:e,payload:t}},T="fetchForecasts",k=a(6),E=a(9),w=a(129),D=a.n(w),R=a(23),A=a.n(R),N=a(134),M=a.n(N),F=a(135),I=a.n(F),P=a(333),Y=(a(175),a(176),a(46)),L=a.n(Y),U=a(334),B=a(325),q=a(326),W=a(308),G=a(5),J=a.n(G),z=(J.a.shape({temp:J.a.number.isRequired}),J.a.arrayOf(J.a.shape({main:J.a.string.isRequired,icon:J.a.string.isRequired})),J.a.string.isRequired,J.a.number,a(74)),H=a.n(z),K="Celcius",Q="Fahrenheit",V="C",X="F",Z={C:"\xb0C",F:"\xb0F"},$=function(e){return 9*e/5+32},ee=function(e){return 5*(e-32)/9},te=function(e){return Math.round(e)},ae=a(2),ne=function(e){var t,a,n=e.weatherData,r=e.onClick,c=e.selectedDate,i=Object(o.c)((function(e){return{currentMetric:e.forecasts.currentMetric}})).currentMetric,s=b()(n.dt_txt).format("DD/MM/YYYY"),u=b()(n.dt_txt).format("DD MMM, YYYY");return Object(ae.jsx)(U.a,{className:A()(H.a.card,s===c&&H.a.selected),onClick:function(){return r(s)},children:Object(ae.jsxs)(B.a,{children:[Object(ae.jsx)(q.a,{className:H.a.image,component:"img",alt:"forecast-icon",src:"http://openweathermap.org/img/wn/".concat(null===(t=n.weather[0])||void 0===t?void 0:t.icon,"@2x.png")}),Object(ae.jsx)(W.a,{variant:"body2",color:"textSecondary",align:"center",children:null===(a=n.weather[0])||void 0===a?void 0:a.main}),Object(ae.jsx)(W.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",children:"".concat(te(n.main.temp)).concat(Z[i])}),Object(ae.jsx)(W.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:u}),Object(ae.jsxs)(W.a,{variant:"subtitle1",color:"textSecondary",align:"center",component:"p",children:["Average Temp: ","".concat(te(n.avg_temp)).concat(Z[i])]})]})})};ne.defaultProps={selectedDate:null};var re=ne,ce=a(331),oe=a(327),ie={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:600,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},se=function(e){var t=e.items,a=e.onCardItemClick,r=e.selectedDate,c=Object(n.useState)(0),o=Object(u.a)(c,2),i=o[0],s=o[1],l=Object(n.useRef)(null);ie.afterChange=function(e){return s(e)};var d=i>0,b=!!t[i+3];return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(ce.a,{component:"div",className:A()(L.a["controls-container"],Object(E.a)({},L.a["controls-left"],d&&!b),Object(E.a)({},L.a["controls-right"],b&&!d)),children:[d&&Object(ae.jsx)(oe.a,{className:L.a.controls,onClick:function(){l.current.slickPrev()},children:Object(ae.jsx)(M.a,{fontSize:"large"})}),b&&Object(ae.jsx)(oe.a,{className:L.a.controls,onClick:function(){l.current.slickNext()},children:Object(ae.jsx)(I.a,{fontSize:"large"})})]}),Object(ae.jsx)(D.a,Object(k.a)(Object(k.a)({ref:l},ie),{},{children:t.map((function(e){return Object(ae.jsx)(re,{selectedDate:r,onClick:a,weatherData:e},P.a)}))}))]})};se.defaultProps={selectedDate:null};var ue=se,le=a(335),de=a(329),be=a(54),fe=a.n(be),pe=a(328),je=a(332),me=Object(pe.a)({root:{"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},label:{fontWeight:"bold !important"},checkedIcon:{backgroundColor:"#426CC0",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#426CC0"}}}),he=function(e){var t=me();return Object(ae.jsx)(je.a,Object(k.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(ae.jsx)("span",{className:A()(t.icon,t.checkedIcon)}),icon:Object(ae.jsx)("span",{className:t.icon})},e))},ge=function(e){var t=e.onChange,a=e.value;return Object(ae.jsx)(ce.a,{component:"div",className:fe.a["metric-switch-controls"],children:Object(ae.jsxs)(le.a,{className:fe.a["metric-switch-radio-group"],value:a,onChange:t,name:"radio-button-metric",children:[Object(ae.jsx)(de.a,{role:"radio",className:fe.a["switch-control"],value:V,control:Object(ae.jsx)(he,{}),checked:a===V,label:K}),Object(ae.jsx)(de.a,{role:"radio",className:fe.a["switch-control"],value:X,checked:a===X,control:Object(ae.jsx)(he,{}),label:Q})]})})};ge.defaultProps={value:null};var Oe=ge,ve=a(136),xe=a.n(ve),ye=function(){return Object(ae.jsx)(ce.a,{className:xe.a.box,children:Object(ae.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"h5",align:"center",children:"Loading..."})})},_e=a(143),Ce=a(139),Se=a.n(Ce),Te=function(e){var t,a={labels:e.data.map((function(e){return b()(e.dt_txt).format("h:mm A")})),datasets:[{label:"Temperatures",data:e.data.map((function(e){return te(e.main.temp)})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:1}]};return Object(ae.jsx)(ce.a,{className:Se.a.box,children:Object(ae.jsx)(_e.a,{type:"vertical",data:a,options:(t=e.metric,{maintainAspectRatio:!1,scales:{xAxes:[{barThickness:3,maxBarThickness:3}],yAxes:[{ticks:{display:!0,beginAtZero:!0,callback:function(e,a,n){return e+t}}}]}})})})},ke=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(o.b)(),i=Object(o.c)((function(e){var t=e.forecasts,a=e.ui;return{forecastsForNextDays:t.forNextDays,forecastsByDate:t.byDate,currentMetric:t.currentMetric,loading:a.loading[T]}})),s=i.forecastsForNextDays,d=i.loading,f=i.currentMetric,p=i.forecastsByDate,g=function(e){return c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:j.START,meta:{params:e}}}(e))};Object(n.useEffect)((function(){return g({q:"Munich,de",units:"metric"}),function(){c({type:m.START})}}),[]),Object(n.useEffect)((function(){(null===s||void 0===s?void 0:s.length)&&c({type:h,meta:{metric:f}}),O&&r(O)}),[f]),Object(n.useEffect)((function(){if(null===s||void 0===s?void 0:s.length){var e=s[0],t=O||b()(e.dt_txt).format("DD/MM/YYYY");r(t)}}),[s]);var O=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(a),x=p[a];return d?Object(ae.jsx)(ye,{}):Object(ae.jsxs)(l.a,{children:[Object(ae.jsx)(Oe,{value:f,onChange:function(e){return c(v(e.target.value))}}),Object(ae.jsx)(ue,{metric:f,selectedDate:a,items:s,onCardItemClick:function(e){return r(e)}}),x&&Object(ae.jsx)(Te,{metric:f,data:x})]})},Ee=function(){return Object(ae.jsx)("div",{children:Object(ae.jsx)(i.a,{children:Object(ae.jsx)(s.c,{children:Object(ae.jsx)(s.a,{path:"/",component:ke})})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,338)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},De=a(10),Re=a(144),Ae=(a(141),a(45)),Ne={currentMetric:V,byList:[],byDate:{},forNextDays:[]},Me={pagination:{default:{cnt:40}},loading:{},errors:{}},Fe={forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case g:case j.SUCCESS:var r=a,c=Object(Ae.groupBy)(r,(function(e){return b()(e.dt_txt).format("DD/MM/YYYY")})),o=Object.values(c).map((function(e){var t=Object(k.a)({},Object(Ae.last)(e)),a=e.reduce((function(e,t){var a;return e+(null===t||void 0===t||null===(a=t.main)||void 0===a?void 0:a.temp)}),0);return Object(k.a)(Object(k.a)({},t),{},{avg_temp:a/e.length})}));return Object.assign({},e,{byList:r,byDate:c,forNextDays:o});case O:return Object(k.a)(Object(k.a)({},e),{},{currentMetric:a});case m:return Ne;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.key;switch(t.type){case C:return Object.assign({},e,{loading:Object(k.a)(Object(k.a)({},e.loading),{},Object(E.a)({},n,a))});case y:var r=e.pagination,c=r[n]||r.default;return Object.assign({},e,{pagination:Object(k.a)(Object(k.a)({},e.pagination),{},Object(E.a)({},n,Object(k.a)(Object(k.a)({},c),a)))});case _:return Object.assign({},e,{errors:Object(k.a)(Object(k.a)({},e.errors),{},Object(E.a)({},n,a))});default:return e}}},Ie=a(142),Pe=a.n(Ie).a.create({baseURL:"https://api.openweathermap.org/data/2.5/",method:"GET",params:{APPID:"75f972b80e26f14fe6c920aa6a85ad57"}});Pe.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Pe.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response){if("ECONNABORTED"===e.code)throw"Network timeout, please try again";throw e.response.data}throw e.request?(e.message="This request is taking too long, please check your network",e):e}));var Ye=[function(e){var t=e.dispatch;return function(e){return function(a){if(a.type===x.START){var n=a.meta,r=n.method,c=void 0===r?"GET":r,o=n.url,i=n.key,s=n.payload,u=n.onError,l=n.params,d=n.onSuccess;t(S(i,!0));var b={method:c,url:o};s&&(!Object(Ae.isEmpty)(s)||s instanceof FormData)&&(b.data=s),l&&!Object(Ae.isEmpty)(l)&&(b.params=l),function(e){return Pe(e)}(b).then((function(e){d&&("function"===typeof d?d(e):t({type:d,payload:e}))})).catch((function(e){if(u){if("function"!==typeof u)throw new Error("onError parameter should be a function");u(e.message)}else t(function(e,t){return{type:_,key:e,payload:t}}(i,e.message))})).finally((function(){return t(S(i,!1))}))}return e(a)}}}],Le=a(145),Ue=[function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===j.START){var r=a().ui.pagination,c=n.meta,o=c.key,i=void 0===o?T:o,s=c.params,u=Object(Le.a)(c,["key","params"]),l=r.default;t((d=Object(k.a)({url:"/forecast",key:i,params:Object(k.a)(Object(k.a)({},s),l),onSuccess:function(e){t({type:j.SUCCESS,payload:(null===e||void 0===e?void 0:e.list)||[]})}},u),{type:x.START,meta:d}))}var d}}},function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===h){var r=n.meta.metric,c=a().forecasts.byList;if(!r||!(null===c||void 0===c?void 0:c.length))return;var o=c.map((function(e){var t,a,n,c,o=V===r?ee:$;return Object(k.a)(Object(k.a)({},e),{},{main:Object(k.a)(Object(k.a)({},e.main),{},{temp:o(null===(t=e.main)||void 0===t?void 0:t.temp),feels_like:o(null===(a=e.main)||void 0===a?void 0:a.feels_like),temp_min:o(null===(n=e.main)||void 0===n?void 0:n.temp_min),temp_max:o(null===(c=e.main)||void 0===c?void 0:c.temp_max)})})}));t(function(e){return{type:g,payload:e}}(o)),t(v(r))}}}}],Be=[].concat(Object(De.a)(Ye),Object(De.a)(Ue)),qe=Object(De.a)(Be);var We=Object(Re.a)({reducer:Fe,devTools:false,middleware:function(e){return e({serializableCheck:!1}).concat(qe)}}),Ge=(a(302),a(92)),Je=a(55);Ge.b.add(Je.c,Je.a,Je.d,Je.b),Ge.a.watch(),c.a.render(Object(ae.jsx)(o.a,{store:We,children:Object(ae.jsx)(Ee,{})}),document.getElementById("root")),we()},46:function(e,t,a){e.exports={"controls-container":"Carousel_controls-container__2EcdK","controls-left":"Carousel_controls-left__2NWGp","controls-right":"Carousel_controls-right__3Gf1w",controls:"Carousel_controls__2UySA"}},54:function(e,t,a){e.exports={"metric-switch-controls":"MetricSwitcher_metric-switch-controls__H4m2O","metric-switch-radio-group":"MetricSwitcher_metric-switch-radio-group__3BEwg","switch-control":"MetricSwitcher_switch-control__Bx3rE"}},74:function(e,t,a){e.exports={card:"Forecast_card__JO3L4",selected:"Forecast_selected__1JvvX",image:"Forecast_image__1OyC1"}}},[[305,1,2]]]);
//# sourceMappingURL=main.422f8239.chunk.js.map