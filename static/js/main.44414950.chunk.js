(this["webpackJsonppayoneer-germany-test"]=this["webpackJsonppayoneer-germany-test"]||[]).push([[0],{134:function(e,t,r){e.exports={box:"Loading_box__2w-WH"}},137:function(e,t,r){e.exports={box:"DailyWeatherChart_box__rqICc"}},302:function(e,t,r){},303:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(29),c=r.n(n),o=r(54),i=r(138),s=r(11),u=r(8),l=r(19),d=r.n(l),f=r(328),b=r(329),h=r(325),m=r(16),j=r.n(m),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return{START:"@@[".concat(t,"] ").concat(e),SUCCESS:"@@[".concat(t,"] ").concat(e,"_SUCCESS"),ERROR:"@@[".concat(t,"] ").concat(e,"_ERROR"),END:"@@[".concat(t,"] ").concat(e,"_END")}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return"@@[".concat(t,"] ").concat(e)},v=p("FETCH_FORECASTS","Weather"),O=p("RESET_FORECAST_STATE","Weather"),_=g("APPLY_METRICS_TO_FORECASTS","Forecast"),x=g("UPDATE_FORECAST_LIST","Forecast"),y=g("SET_CURRENT_METRIC","Temperature"),D=g("SET_CURRENT_DATE","Temperature"),S=function(e){return{type:_,meta:{metric:e}}},C=function(e){return{type:D,payload:e}},T=p("API_REQUEST","Api Request"),E="UPDATE_PAGINATION",k="UPDATE_ERROR_STATE",w="UPDATE_LOADING_STATE",R=function(e,t){return{type:w,key:e,payload:t}},N="fetchForecasts",M=r(6),A=r(142),F=r(127),I=r.n(F),Y=r(132),P=r.n(Y),W=r(133),L=r.n(W),U=r(331),q=r(88),B=(r(174),r(175),r(46)),J=r.n(B),G=r(332),Q=r(323),X=r(306),z=r(324),H=r(5),V=r.n(H),Z=(V.a.shape({temp:V.a.number.isRequired}),V.a.arrayOf(V.a.shape({main:V.a.string.isRequired,icon:V.a.string.isRequired})),V.a.string.isRequired,V.a.number,r(73)),$=r.n(Z),K="Celcius",ee="Fahrenheit",te="C",re="F",ae={C:"\xb0C",F:"\xb0F"},ne=function(e){return 9*e/5+32},ce=function(e){return 5*(e-32)/9},oe=function(e){return Math.round(e)},ie=r(2),se=function(e){var t,r,a=e.weatherData,n=e.onClick,c=e.selectedDate,o=e.currentMetric,i=j()(a.dt_txt).format("DD/MM/YYYY"),s=j()().isSame(j()(a.dt_txt),"day"),u="".concat(j()(a.dt_txt).format("DD MMM, YYYY")).concat(s?" (Today)":"").trim();return Object(ie.jsx)(G.a,{className:d()($.a.card,i===c&&$.a.selected),onClick:function(){return n(i)},children:Object(ie.jsxs)(Q.a,{children:[Object(ie.jsx)(X.a,{color:"textPrimary",align:"center",component:"p",children:u}),Object(ie.jsx)(z.a,{className:$.a.image,component:"img",alt:"forecast-icon",src:"http://openweathermap.org/img/wn/".concat(null===(t=a.weather[0])||void 0===t?void 0:t.icon,"@2x.png")}),Object(ie.jsx)(X.a,{variant:"body2",color:"textSecondary",align:"center",children:null===(r=a.weather[0])||void 0===r?void 0:r.main}),Object(ie.jsx)(X.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",children:"".concat(oe(a.main.temp)).concat(ae[o])}),Object(ie.jsxs)(X.a,{variant:"subtitle1",color:"textSecondary",align:"center",component:"p",children:["Average Temp: ","".concat(oe(a.avg_temp)).concat(ae[o])]})]})})};se.defaultProps={selectedDate:null};var ue=se,le={minDeviceWidth:320,maxDeviceWidth:480},de={minDeviceWidth:481,maxDeviceWidth:768},fe={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:{minDeviceWidth:1024}.minDeviceWidth,settings:{slidesToShow:3}},{breakpoint:de.maxDeviceWidth,settings:{slidesToShow:2}},{breakpoint:le.maxDeviceWidth,settings:{slidesToShow:1}}]},be=function(e){var t=e.items,r=e.onCardItemClick,n=e.selectedDate,c=e.setCurrentDate,o=e.currentMetric,i=Object(a.useState)(0),s=Object(A.a)(i,2),l=s[0],f=s[1],m=Object(a.useRef)(null),p=Object(q.useMediaQuery)(le),g=Object(q.useMediaQuery)(de);fe.afterChange=function(e){f(e)},Object(a.useEffect)((function(){if(0!==l){var e=[l];if([l+1,l+2].forEach((function(r){t[r]&&e.push(r)})),!e.some((function(e){var r=t[e];return j()(r.dt_txt).format("DD/MM/YYYY")===n}))){var r=t[l],a=j()(r.dt_txt).format("DD/MM/YYYY");c(a)}}}),[l]);var v=l>0,O=!!t[l+(p?1:g?2:3)];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(b.a,{component:"div",className:d()(J.a["controls-container"],Object(u.a)({},J.a["controls-left"],v&&!O),Object(u.a)({},J.a["controls-right"],O&&!v)),children:[v&&Object(ie.jsx)(h.a,{className:J.a.controls,onClick:function(){m.current.slickPrev()},children:Object(ie.jsx)(P.a,{fontSize:"large"})}),O&&Object(ie.jsx)(h.a,{className:J.a.controls,onClick:function(){m.current.slickNext()},children:Object(ie.jsx)(L.a,{fontSize:"large"})})]}),Object(ie.jsx)(I.a,Object(M.a)(Object(M.a)({ref:m},fe),{},{children:t.map((function(e){return Object(ie.jsx)(ue,{currentMetric:o,selectedDate:n,onClick:r,weatherData:e},U.a)}))}))]})};be.defaultProps={selectedDate:null};var he=be,me=r(333),je=r(327),pe=r(55),ge=r.n(pe),ve=r(326),Oe=r(330),_e=Object(ve.a)({root:{fontWeight:"bold !important","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#426CC0",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#426CC0"}}}),xe=function(e){var t=_e();return Object(ie.jsx)(Oe.a,Object(M.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(ie.jsx)("span",{className:d()(t.icon,t.checkedIcon)}),icon:Object(ie.jsx)("span",{className:t.icon})},e))},ye=function(e){var t=e.onChange,r=e.value;return Object(ie.jsx)(b.a,{component:"div",className:ge.a["metric-switch-controls"],children:Object(ie.jsxs)(me.a,{className:ge.a["metric-switch-radio-group"],value:r,onChange:t,name:"radio-button-metric",children:[Object(ie.jsx)(je.a,{role:"radio",className:ge.a["switch-control"],value:te,control:Object(ie.jsx)(xe,{}),checked:r===te,label:K}),Object(ie.jsx)(je.a,{role:"radio",className:ge.a["switch-control"],value:re,checked:r===re,control:Object(ie.jsx)(xe,{}),label:ee})]})})};ye.defaultProps={value:null};var De=ye,Se=r(134),Ce=r.n(Se),Te=function(){return Object(ie.jsx)(b.a,{className:Ce.a.box,children:Object(ie.jsx)(X.a,{gutterBottom:!0,variant:"h5",component:"h5",align:"center",children:"Loading..."})})},Ee=r(141),ke=r(137),we=r.n(ke),Re=function(e){return{maintainAspectRatio:!1,scales:{yAxis:[{ticks:{display:!0,beginAtZero:!0,callback:function(t,r,a){return"".concat(t," ").concat(ae[e])}}}]}}},Ne=function(e){var t=e.data,r=e.metric,a={labels:t.map((function(e){return j()(e.dt_txt).format("h:mm A")})),datasets:[{label:"Temperatures in ".concat(ae[r]),data:t.map((function(e){return oe(e.main.temp)})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:1}]};return Object(ie.jsx)(b.a,{className:we.a.box,children:Object(ie.jsx)(Ee.a,{type:"vertical",data:a,options:Re(e.metric)})})},Me=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current},Ae=r(33),Fe=r.n(Ae),Ie={q:"Munich,de",units:"metric"},Ye=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){var t=e.forecasts,r=e.ui;return{allForecastList:t.byList,forecastsForNextDays:t.forNextDays,forecastsByDate:t.byDate,currentMetric:t.currentMetric,loading:r.loading[N],error:r.errors[N],currentDate:t.currentDate}})),r=t.forecastsForNextDays,n=t.loading,c=t.currentMetric,i=t.forecastsByDate,s=t.error,l=t.currentDate,m=t.byList,p=function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:v.START,meta:{params:e}}}(t))};Object(a.useEffect)((function(){return p(Ie),function(){e({type:O.START})}}),[]),Object(a.useEffect)((function(){(null===r||void 0===r?void 0:r.length)&&e(S(c)),_&&e(C(_))}),[c]),Object(a.useEffect)((function(){if(null===r||void 0===r?void 0:r.length){var t=r[0],a=_||j()(t.dt_txt).format("DD/MM/YYYY");e(C(a))}}),[r]),Object(a.useEffect)((function(){(!(null===g||void 0===g?void 0:g.length)&&(null===m||void 0===m?void 0:m.length)||(null===g||void 0===g?void 0:g.length)&&m.length&&(null===g||void 0===g?void 0:g.length)!==m.length)&&c&&c!==te&&e(S(c))}),[m]);var g=Me(m),_=Me(l),x=function(t){return e(C(t))},D=i?i[l]:[],T=!!s;return n?Object(ie.jsx)(Te,{}):Object(ie.jsxs)(f.a,{className:Fe.a.container,children:[Object(ie.jsxs)(b.a,{className:d()(Fe.a["action-bar"],Object(u.a)({},Fe.a["has-error"],!!T)),children:[!T&&Object(ie.jsx)(De,{value:c,onChange:function(t){return e((r=t.target.value,{type:y,payload:r}));var r}}),Object(ie.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){return p(Ie)},className:Fe.a["refresh-btn"],children:"Refresh"})]}),Object(ie.jsxs)(b.a,{className:d()(Fe.a["weather-content"],Object(u.a)({},Fe.a["has-error"],!!T)),children:[T&&Object(ie.jsx)("div",{className:Fe.a.error,children:s}),!T&&Object(ie.jsxs)(ie.Fragment,{children:[" ",r&&Object(ie.jsx)(he,{currentMetric:c,setCurrentDate:C,metric:c,selectedDate:l,items:r,onCardItemClick:x}),D&&Object(ie.jsx)(Ne,{metric:c,data:D})]})]})]})},Pe=function(){return Object(ie.jsx)("div",{children:Object(ie.jsx)(i.a,{children:Object(ie.jsx)(s.c,{children:Object(ie.jsx)(s.a,{path:"/",component:Ye})})})})},We=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,336)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Le=r(10),Ue=r(143),qe=(r(139),r(45)),Be={currentMetric:te,currentDate:null,byList:[],byDate:{},forNextDays:[]},Je={pagination:{default:{cnt:40}},loading:{},errors:{}},Ge={forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,r=t.payload,a=t.type;switch(a){case x:case v.SUCCESS:var n=r,c=Object(qe.groupBy)(n,(function(e){return j()(e.dt_txt).format("DD/MM/YYYY")})),o=Object.values(c).map((function(e){var t=Object(M.a)({},Object(qe.last)(e)),r=e.reduce((function(e,t){var r;return e+(null===t||void 0===t||null===(r=t.main)||void 0===r?void 0:r.temp)}),0);return Object(M.a)(Object(M.a)({},t),{},{avg_temp:r/e.length})}));return Object.assign({},e,{byList:n,byDate:c,forNextDays:o});case y:return Object(M.a)(Object(M.a)({},e),{},{currentMetric:r});case D:return Object(M.a)(Object(M.a)({},e),{},{currentDate:r});case O:return Be;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,r=t.payload,a=t.key;switch(t.type){case w:return Object.assign({},e,{loading:Object(M.a)(Object(M.a)({},e.loading),{},Object(u.a)({},a,r))});case E:var n=e.pagination,c=n[a]||n.default;return Object.assign({},e,{pagination:Object(M.a)(Object(M.a)({},e.pagination),{},Object(u.a)({},a,Object(M.a)(Object(M.a)({},c),r)))});case k:return Object.assign({},e,{errors:Object(M.a)(Object(M.a)({},e.errors),{},Object(u.a)({},a,r))});default:return e}}},Qe=r(140),Xe=r.n(Qe).a.create({baseURL:"https://api.openweathermap.org/data/2.5/",method:"GET",params:{APPID:"75f972b80e26f14fe6c920aa6a85ad57"}});Xe.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Xe.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response){if("ECONNABORTED"===e.code)throw new Error("Network timeout, please try again");throw e.response.data}throw e.request?(e.message="This request is taking too long, please check your network",e):e}));var ze=[function(e){var t=e.dispatch;return function(e){return function(r){if(r.type===T.START){var a=r.meta,n=a.method,c=void 0===n?"GET":n,o=a.url,i=a.key,s=a.payload,u=a.onError,l=a.params,d=a.onSuccess;t(R(i,!0));var f={method:c,url:o};s&&(!Object(qe.isEmpty)(s)||s instanceof FormData)&&(f.data=s),l&&!Object(qe.isEmpty)(l)&&(f.params=l),function(e){return Xe(e)}(f).then((function(e){d&&("function"===typeof d?d(e):t({type:d,payload:e}))})).catch((function(e){if(u){if("function"!==typeof u)throw new Error("onError parameter should be a function");u(e.message)}else t(function(e,t){return{type:k,key:e,payload:t}}(i,e.message))})).finally((function(){return t(R(i,!1))}))}return e(r)}}}],He=r(144),Ve=[function(e){var t=e.dispatch,r=e.getState;return function(e){return function(a){if(e(a),a.type===v.START){var n=r().ui.pagination,c=a.meta,o=c.key,i=void 0===o?N:o,s=c.params,u=Object(He.a)(c,["key","params"]),l=n.default;t((d=Object(M.a)({url:"/forecast",key:i,params:Object(M.a)(Object(M.a)({},s),l),onSuccess:function(e){var a=r().forecasts,n=a.byList,c=a.currentMetric,o=!(null===n||void 0===n?void 0:n.length);t({type:v.SUCCESS,payload:(null===e||void 0===e?void 0:e.list)||[]}),o&&c!==te&&t(S(c))}},u),{type:T.START,meta:d}))}var d}}},function(e){var t=e.dispatch,r=e.getState;return function(e){return function(a){if(e(a),a.type===_){var n=a.meta.metric,c=r().forecasts.byList;if(!n||!(null===c||void 0===c?void 0:c.length))return;var o=c.map((function(e){var t,r,a,c,o=te===n?ce:ne;return Object(M.a)(Object(M.a)({},e),{},{main:Object(M.a)(Object(M.a)({},e.main),{},{temp:o(null===(t=e.main)||void 0===t?void 0:t.temp),feels_like:o(null===(r=e.main)||void 0===r?void 0:r.feels_like),temp_min:o(null===(a=e.main)||void 0===a?void 0:a.temp_min),temp_max:o(null===(c=e.main)||void 0===c?void 0:c.temp_max)})})}));t(function(e){return{type:x,payload:e}}(o))}}}}],Ze=[].concat(Object(Le.a)(ze),Object(Le.a)(Ve)),$e=Object(Le.a)(Ze);var Ke=Object(Ue.a)({preloadedState:function(){try{var e=localStorage.getItem("pwa");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),reducer:Ge,devTools:false,middleware:function(e){return e({serializableCheck:!1}).concat($e)}});Ke.subscribe((function(){var e=Ke.getState().forecasts;!function(e){try{var t=JSON.stringify(e);localStorage.setItem("pwa",t)}catch(r){}}({forecasts:{currentDate:e.currentDate,currentMetric:e.currentMetric||te}})}));var et=Ke;r(302);c.a.render(Object(ie.jsx)(o.a,{store:et,children:Object(ie.jsx)(Pe,{})}),document.getElementById("root")),We()},33:function(e,t,r){e.exports={container:"WeatherInfo_container__3r6-q","action-bar":"WeatherInfo_action-bar__196l3","has-error":"WeatherInfo_has-error__3FfuX","refresh-btn":"WeatherInfo_refresh-btn__1qPXe",error:"WeatherInfo_error__2T4fP","weather-content":"WeatherInfo_weather-content__1kupc"}},46:function(e,t,r){e.exports={"controls-container":"ForecastCarousel_controls-container__1bMfN","controls-left":"ForecastCarousel_controls-left__1JfkU","controls-right":"ForecastCarousel_controls-right__178rj",controls:"ForecastCarousel_controls__2NXQJ"}},55:function(e,t,r){e.exports={"metric-switch-controls":"MetricSwitcher_metric-switch-controls__H4m2O","metric-switch-radio-group":"MetricSwitcher_metric-switch-radio-group__3BEwg","switch-control":"MetricSwitcher_switch-control__Bx3rE"}},73:function(e,t,r){e.exports={card:"Forecast_card__JO3L4",selected:"Forecast_selected__1JvvX",image:"Forecast_image__1OyC1"}}},[[303,1,2]]]);
//# sourceMappingURL=main.44414950.chunk.js.map