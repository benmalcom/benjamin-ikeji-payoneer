(this["webpackJsonppayoneer-germany-test"]=this["webpackJsonppayoneer-germany-test"]||[]).push([[0],{134:function(e,t,a){e.exports={box:"Loading_box__2w-WH"}},137:function(e,t,a){e.exports={box:"DailyWeatherChart_box__rqICc"}},302:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(29),c=a.n(r),o=a(54),i=a(11),s=a(138),u=a(8),l=a(19),d=a.n(l),f=a(328),b=a(329),h=a(325),p=a(16),m=a.n(p),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return{START:"@@[".concat(t,"] ").concat(e),SUCCESS:"@@[".concat(t,"] ").concat(e,"_SUCCESS"),ERROR:"@@[".concat(t,"] ").concat(e,"_ERROR"),END:"@@[".concat(t,"] ").concat(e,"_END")}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return"@@[".concat(t,"] ").concat(e)},O=j("FETCH_FORECASTS","Weather"),v=j("RESET_FORECAST_STATE","Weather"),_=g("APPLY_METRICS_TO_FORECASTS","Forecast"),x=g("UPDATE_FORECAST_LIST","Forecast"),y=g("SET_CURRENT_METRIC","Temperature"),D=g("SET_CURRENT_DATE","Temperature"),S=function(e){return{type:_,meta:{metric:e}}},C=function(e){return{type:D,payload:e}},w=j("API_REQUEST","Api Request"),T="UPDATE_PAGINATION",E="UPDATE_ERROR_STATE",k="UPDATE_LOADING_STATE",M=function(e,t){return{type:k,key:e,payload:t}},R="fetchForecasts",N=a(6),A=a(142),F=a(127),I=a.n(F),Y=a(132),P=a.n(Y),W=a(133),L=a.n(W),U=a(331),q=a(88),B=(a(174),a(175),a(46)),J=a.n(B),G=a(332),Q=a(323),X=a(306),z=a(324),H=a(5),V=a.n(H),Z=(V.a.shape({temp:V.a.number.isRequired}),V.a.arrayOf(V.a.shape({main:V.a.string.isRequired,icon:V.a.string.isRequired})),V.a.string.isRequired,V.a.number,a(73)),$=a.n(Z),K="Celcius",ee="Fahrenheit",te="C",ae="F",ne={C:"\xb0C",F:"\xb0F"},re=function(e){return 9*e/5+32},ce=function(e){return 5*(e-32)/9},oe=function(e){return Math.round(e)},ie=a(2),se=function(e){var t,a,n=e.weatherData,r=e.onClick,c=e.selectedDate,o=e.currentMetric,i=m()(n.dt_txt).format("DD/MM/YYYY"),s=m()().isSame(m()(n.dt_txt),"day"),u="".concat(m()(n.dt_txt).format("DD MMM, YYYY")).concat(s?" (Today)":"").trim();return Object(ie.jsx)(G.a,{className:d()($.a.card,i===c&&$.a.selected),onClick:function(){return r(i)},children:Object(ie.jsxs)(Q.a,{children:[Object(ie.jsx)(X.a,{color:"textPrimary",align:"center",component:"p",children:u}),Object(ie.jsx)(z.a,{className:$.a.image,component:"img",alt:"forecast-icon",src:"http://openweathermap.org/img/wn/".concat(null===(t=n.weather[0])||void 0===t?void 0:t.icon,"@2x.png")}),Object(ie.jsx)(X.a,{variant:"body2",color:"textSecondary",align:"center",children:null===(a=n.weather[0])||void 0===a?void 0:a.main}),Object(ie.jsx)(X.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",children:"".concat(oe(n.main.temp)).concat(ne[o])}),Object(ie.jsxs)(X.a,{variant:"subtitle1",color:"textSecondary",align:"center",component:"p",children:["Average Temp: ","".concat(oe(n.avg_temp)).concat(ne[o])]})]})})};se.defaultProps={selectedDate:null};var ue=se,le={minDeviceWidth:320,maxDeviceWidth:480},de={minDeviceWidth:481,maxDeviceWidth:768},fe={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:{minDeviceWidth:1024}.minDeviceWidth,settings:{slidesToShow:3}},{breakpoint:de.maxDeviceWidth,settings:{slidesToShow:2}},{breakpoint:le.maxDeviceWidth,settings:{slidesToShow:1}}]},be=function(e){var t=e.items,a=e.onCardItemClick,r=e.selectedDate,c=e.setCurrentDate,o=e.currentMetric,i=Object(n.useState)(0),s=Object(A.a)(i,2),l=s[0],f=s[1],p=Object(n.useRef)(null),j=Object(q.useMediaQuery)(le),g=Object(q.useMediaQuery)(de);fe.afterChange=function(e){f(e)},Object(n.useEffect)((function(){if(0!==l){var e=[l];if([l+1,l+2].forEach((function(a){t[a]&&e.push(a)})),!e.some((function(e){var a=t[e];return m()(a.dt_txt).format("DD/MM/YYYY")===r}))){var a=t[l],n=m()(a.dt_txt).format("DD/MM/YYYY");c(n)}}}),[l]);var O=l>0,v=!!t[l+(j?1:g?2:3)];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(b.a,{component:"div",className:d()(J.a["controls-container"],Object(u.a)({},J.a["controls-left"],O&&!v),Object(u.a)({},J.a["controls-right"],v&&!O)),children:[O&&Object(ie.jsx)(h.a,{className:J.a.controls,onClick:function(){p.current.slickPrev()},children:Object(ie.jsx)(P.a,{fontSize:"large"})}),v&&Object(ie.jsx)(h.a,{className:J.a.controls,onClick:function(){p.current.slickNext()},children:Object(ie.jsx)(L.a,{fontSize:"large"})})]}),Object(ie.jsx)(I.a,Object(N.a)(Object(N.a)({ref:p},fe),{},{children:t.map((function(e){return Object(ie.jsx)(ue,{currentMetric:o,selectedDate:r,onClick:a,weatherData:e},U.a)}))}))]})};be.defaultProps={selectedDate:null};var he=be,pe=a(333),me=a(327),je=a(55),ge=a.n(je),Oe=a(326),ve=a(330),_e=Object(Oe.a)({root:{fontWeight:"bold !important","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#426CC0",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#426CC0"}}}),xe=function(e){var t=_e();return Object(ie.jsx)(ve.a,Object(N.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(ie.jsx)("span",{className:d()(t.icon,t.checkedIcon)}),icon:Object(ie.jsx)("span",{className:t.icon})},e))},ye=function(e){var t=e.onChange,a=e.value;return Object(ie.jsx)(b.a,{component:"div",className:ge.a["metric-switch-controls"],children:Object(ie.jsxs)(pe.a,{className:ge.a["metric-switch-radio-group"],value:a,onChange:t,name:"radio-button-metric",children:[Object(ie.jsx)(me.a,{role:"radio",className:ge.a["switch-control"],value:te,control:Object(ie.jsx)(xe,{}),checked:a===te,label:K}),Object(ie.jsx)(me.a,{role:"radio",className:ge.a["switch-control"],value:ae,checked:a===ae,control:Object(ie.jsx)(xe,{}),label:ee})]})})};ye.defaultProps={value:null};var De=ye,Se=a(134),Ce=a.n(Se),we=function(){return Object(ie.jsx)(b.a,{className:Ce.a.box,children:Object(ie.jsx)(X.a,{gutterBottom:!0,variant:"h5",component:"h5",align:"center",children:"Loading..."})})},Te=a(141),Ee=a(137),ke=a.n(Ee),Me=function(e){return{maintainAspectRatio:!1,scales:{yAxis:[{ticks:{display:!0,beginAtZero:!0,callback:function(t,a,n){return"".concat(t," ").concat(ne[e])}}}]}}},Re=function(e){var t=e.data,a=e.metric,n={labels:t.map((function(e){return m()(e.dt_txt).format("h:mm A")})),datasets:[{label:"Temperatures in ".concat(ne[a]),data:t.map((function(e){return oe(e.main.temp)})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:1}]};return Object(ie.jsx)(b.a,{className:ke.a.box,children:Object(ie.jsx)(Te.a,{type:"vertical",data:n,options:Me(e.metric)})})},Ne=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},Ae=a(33),Fe=a.n(Ae),Ie={q:"Munich,de",units:"metric"},Ye=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){var t=e.forecasts,a=e.ui;return{allForecastList:t.byList,forecastsForNextDays:t.forNextDays,forecastsByDate:t.byDate,currentMetric:t.currentMetric,loading:a.loading[R],error:a.errors[R],currentDate:t.currentDate}})),a=t.forecastsForNextDays,r=t.loading,c=t.currentMetric,i=t.forecastsByDate,s=t.error,l=t.currentDate,p=t.byList,j=function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:O.START,meta:{params:e}}}(t))};Object(n.useEffect)((function(){return j(Ie),function(){e({type:v.START})}}),[]),Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.length)&&e(S(c)),_&&e(C(_))}),[c]),Object(n.useEffect)((function(){if(null===a||void 0===a?void 0:a.length){var t=a[0],n=_||m()(t.dt_txt).format("DD/MM/YYYY");e(C(n))}}),[a]),Object(n.useEffect)((function(){(!(null===g||void 0===g?void 0:g.length)&&(null===p||void 0===p?void 0:p.length)||(null===g||void 0===g?void 0:g.length)&&p.length&&(null===g||void 0===g?void 0:g.length)!==p.length)&&c&&c!==te&&e(S(c))}),[p]);var g=Ne(p),_=Ne(l),x=function(t){return e(C(t))},D=i?i[l]:[],w=!!s;return r?Object(ie.jsx)(we,{}):Object(ie.jsxs)(f.a,{className:Fe.a.container,children:[Object(ie.jsxs)(b.a,{className:d()(Fe.a["action-bar"],Object(u.a)({},Fe.a["has-error"],!!w)),children:[!w&&Object(ie.jsx)(De,{value:c,onChange:function(t){return e((a=t.target.value,{type:y,payload:a}));var a}}),Object(ie.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){return j(Ie)},className:Fe.a["refresh-btn"],children:"Refresh"})]}),Object(ie.jsxs)(b.a,{className:d()(Fe.a["weather-content"],Object(u.a)({},Fe.a["has-error"],!!w)),children:[w&&Object(ie.jsx)("div",{className:Fe.a.error,children:s}),!w&&Object(ie.jsxs)(ie.Fragment,{children:[" ",a&&Object(ie.jsx)(he,{currentMetric:c,setCurrentDate:C,metric:c,selectedDate:l,items:a,onCardItemClick:x}),D&&Object(ie.jsx)(Re,{metric:c,data:D})]})]})]})},Pe=function(){var e=Object(i.f)();return Object(n.useEffect)((function(){"undefined"!==typeof window.Appcues&&window.Appcues.identify(Math.floor(Math.random()),{created_at:Date.now(),first_name:"first_".concat(Math.floor(10*Math.random())),last_name:"last_".concat(Math.floor(10*Math.random()))})}),[]),Object(n.useEffect)((function(){if(e)return e.listen((function(e){console.log("You changed the page to: ".concat(e.pathname)),"undefined"!==typeof window.Appcues&&window.Appcues.page()}))}),[e]),Object(ie.jsx)(s.a,{children:Object(ie.jsx)(i.c,{children:Object(ie.jsx)(i.a,{path:"/",component:Ye})})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,336)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},Le=a(10),Ue=a(143),qe=(a(139),a(45)),Be={currentMetric:te,currentDate:null,byList:[],byDate:{},forNextDays:[]},Je={pagination:{default:{cnt:40}},loading:{},errors:{}},Ge={forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case x:case O.SUCCESS:var r=a,c=Object(qe.groupBy)(r,(function(e){return m()(e.dt_txt).format("DD/MM/YYYY")})),o=Object.values(c).map((function(e){var t=Object(N.a)({},Object(qe.last)(e)),a=e.reduce((function(e,t){var a;return e+(null===t||void 0===t||null===(a=t.main)||void 0===a?void 0:a.temp)}),0);return Object(N.a)(Object(N.a)({},t),{},{avg_temp:a/e.length})}));return Object.assign({},e,{byList:r,byDate:c,forNextDays:o});case y:return Object(N.a)(Object(N.a)({},e),{},{currentMetric:a});case D:return Object(N.a)(Object(N.a)({},e),{},{currentDate:a});case v:return Be;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.key;switch(t.type){case k:return Object.assign({},e,{loading:Object(N.a)(Object(N.a)({},e.loading),{},Object(u.a)({},n,a))});case T:var r=e.pagination,c=r[n]||r.default;return Object.assign({},e,{pagination:Object(N.a)(Object(N.a)({},e.pagination),{},Object(u.a)({},n,Object(N.a)(Object(N.a)({},c),a)))});case E:return Object.assign({},e,{errors:Object(N.a)(Object(N.a)({},e.errors),{},Object(u.a)({},n,a))});default:return e}}},Qe=a(140),Xe=a.n(Qe).a.create({baseURL:"https://api.openweathermap.org/data/2.5/",method:"GET",params:{APPID:"75f972b80e26f14fe6c920aa6a85ad57"}});Xe.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Xe.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response){if("ECONNABORTED"===e.code)throw new Error("Network timeout, please try again");throw e.response.data}throw e.request?(e.message="This request is taking too long, please check your network",e):e}));var ze=[function(e){var t=e.dispatch;return function(e){return function(a){if(a.type===w.START){var n=a.meta,r=n.method,c=void 0===r?"GET":r,o=n.url,i=n.key,s=n.payload,u=n.onError,l=n.params,d=n.onSuccess;t(M(i,!0));var f={method:c,url:o};s&&(!Object(qe.isEmpty)(s)||s instanceof FormData)&&(f.data=s),l&&!Object(qe.isEmpty)(l)&&(f.params=l),function(e){return Xe(e)}(f).then((function(e){d&&("function"===typeof d?d(e):t({type:d,payload:e}))})).catch((function(e){if(u){if("function"!==typeof u)throw new Error("onError parameter should be a function");u(e.message)}else t(function(e,t){return{type:E,key:e,payload:t}}(i,e.message))})).finally((function(){return t(M(i,!1))}))}return e(a)}}}],He=a(144),Ve=[function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===O.START){var r=a().ui.pagination,c=n.meta,o=c.key,i=void 0===o?R:o,s=c.params,u=Object(He.a)(c,["key","params"]),l=r.default;t((d=Object(N.a)({url:"/forecast",key:i,params:Object(N.a)(Object(N.a)({},s),l),onSuccess:function(e){var n=a().forecasts,r=n.byList,c=n.currentMetric,o=!(null===r||void 0===r?void 0:r.length);t({type:O.SUCCESS,payload:(null===e||void 0===e?void 0:e.list)||[]}),o&&c!==te&&t(S(c))}},u),{type:w.START,meta:d}))}var d}}},function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===_){var r=n.meta.metric,c=a().forecasts.byList;if(!r||!(null===c||void 0===c?void 0:c.length))return;var o=c.map((function(e){var t,a,n,c,o=te===r?ce:re;return Object(N.a)(Object(N.a)({},e),{},{main:Object(N.a)(Object(N.a)({},e.main),{},{temp:o(null===(t=e.main)||void 0===t?void 0:t.temp),feels_like:o(null===(a=e.main)||void 0===a?void 0:a.feels_like),temp_min:o(null===(n=e.main)||void 0===n?void 0:n.temp_min),temp_max:o(null===(c=e.main)||void 0===c?void 0:c.temp_max)})})}));t(function(e){return{type:x,payload:e}}(o))}}}}],Ze=[].concat(Object(Le.a)(ze),Object(Le.a)(Ve)),$e=Object(Le.a)(Ze);var Ke=Object(Ue.a)({preloadedState:function(){try{var e=localStorage.getItem("pwa");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),reducer:Ge,devTools:false,middleware:function(e){return e({serializableCheck:!1}).concat($e)}});Ke.subscribe((function(){var e=Ke.getState().forecasts;!function(e){try{var t=JSON.stringify(e);localStorage.setItem("pwa",t)}catch(a){}}({forecasts:{currentDate:e.currentDate,currentMetric:e.currentMetric||te}})}));var et=Ke;a(302);c.a.render(Object(ie.jsx)(o.a,{store:et,children:Object(ie.jsx)(Pe,{})}),document.getElementById("root")),We()},33:function(e,t,a){e.exports={container:"WeatherInfo_container__3r6-q","action-bar":"WeatherInfo_action-bar__196l3","has-error":"WeatherInfo_has-error__3FfuX","refresh-btn":"WeatherInfo_refresh-btn__1qPXe",error:"WeatherInfo_error__2T4fP","weather-content":"WeatherInfo_weather-content__1kupc"}},46:function(e,t,a){e.exports={"controls-container":"ForecastCarousel_controls-container__1bMfN","controls-left":"ForecastCarousel_controls-left__1JfkU","controls-right":"ForecastCarousel_controls-right__178rj",controls:"ForecastCarousel_controls__2NXQJ"}},55:function(e,t,a){e.exports={"metric-switch-controls":"MetricSwitcher_metric-switch-controls__H4m2O","metric-switch-radio-group":"MetricSwitcher_metric-switch-radio-group__3BEwg","switch-control":"MetricSwitcher_switch-control__Bx3rE"}},73:function(e,t,a){e.exports={card:"Forecast_card__JO3L4",selected:"Forecast_selected__1JvvX",image:"Forecast_image__1OyC1"}}},[[303,1,2]]]);
//# sourceMappingURL=main.92d81beb.chunk.js.map