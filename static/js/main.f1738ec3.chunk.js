(this["webpackJsonppayoneer-germany-test"]=this["webpackJsonppayoneer-germany-test"]||[]).push([[0],{137:function(e,t,a){e.exports={box:"Loading_box__2w-WH"}},140:function(e,t,a){e.exports={box:"DailyWeatherChart_box__rqICc"}},303:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(30),c=a.n(r),o=a(53),i=a(141),s=a(11),u=a(73),l=a(331),d=a(18),b=a.n(d),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return{START:"@@[".concat(t,"] ").concat(e),SUCCESS:"@@[".concat(t,"] ").concat(e,"_SUCCESS"),ERROR:"@@[".concat(t,"] ").concat(e,"_ERROR"),END:"@@[".concat(t,"] ").concat(e,"_END")}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"App";return"@@[".concat(t,"] ").concat(e)},p=f("FETCH_FORECASTS","Weather"),j=f("RESET_FORECAST_STATE","Weather"),h=m("APPLY_METRICS_TO_FORECASTS","Forecast"),g=m("UPDATE_FORECAST_LIST","Forecast"),O=m("SET_CURRENT_METRIC","Temperature"),v=function(e){return{type:O,payload:e}},x=f("API_REQUEST","Api Request"),y="UPDATE_PAGINATION",_="UPDATE_ERROR_STATE",C="UPDATE_LOADING_STATE",S=function(e,t){return{type:C,key:e,payload:t}},T="fetchForecasts",D=a(6),k=a(9),E=a(130),w=a.n(E),R=a(24),A=a.n(R),M=a(135),N=a.n(M),F=a(136),Y=a.n(F),I=a(334),P=a(89),W=(a(176),a(177),a(45)),L=a.n(W),U=a(335),q=a(326),B=a(309),J=a(327),G=a(5),Q=a.n(G),z=(Q.a.shape({temp:Q.a.number.isRequired}),Q.a.arrayOf(Q.a.shape({main:Q.a.string.isRequired,icon:Q.a.string.isRequired})),Q.a.string.isRequired,Q.a.number,a(74)),H=a.n(z),X="Celcius",V="Fahrenheit",Z="C",$="F",K={C:"\xb0C",F:"\xb0F"},ee=function(e){return 9*e/5+32},te=function(e){return 5*(e-32)/9},ae=function(e){return Math.round(e)},ne=a(2),re=function(e){var t,a,n=e.weatherData,r=e.onClick,c=e.selectedDate,o=e.currentMetric,i=b()(n.dt_txt).format("DD/MM/YYYY"),s=b()().isSame(b()(n.dt_txt),"day"),u="".concat(b()(n.dt_txt).format("DD MMM, YYYY")).concat(s?" (Today)":"").trim();return Object(ne.jsx)(U.a,{className:A()(H.a.card,i===c&&H.a.selected),onClick:function(){return r(i)},children:Object(ne.jsxs)(q.a,{children:[Object(ne.jsx)(B.a,{color:"textPrimary",align:"center",component:"p",children:u}),Object(ne.jsx)(J.a,{className:H.a.image,component:"img",alt:"forecast-icon",src:"http://openweathermap.org/img/wn/".concat(null===(t=n.weather[0])||void 0===t?void 0:t.icon,"@2x.png")}),Object(ne.jsx)(B.a,{variant:"body2",color:"textSecondary",align:"center",children:null===(a=n.weather[0])||void 0===a?void 0:a.main}),Object(ne.jsx)(B.a,{gutterBottom:!0,variant:"h4",component:"h2",align:"center",children:"".concat(ae(n.main.temp)).concat(K[o])}),Object(ne.jsxs)(B.a,{variant:"subtitle1",color:"textSecondary",align:"center",component:"p",children:["Average Temp: ","".concat(ae(n.avg_temp)).concat(K[o])]})]})})};re.defaultProps={selectedDate:null};var ce=re,oe=a(332),ie=a(328),se={minDeviceWidth:320,maxDeviceWidth:480},ue={minDeviceWidth:481,maxDeviceWidth:768},le={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!1,edgeFriction:0,responsive:[{breakpoint:{minDeviceWidth:1024}.minDeviceWidth,settings:{slidesToShow:3}},{breakpoint:ue.maxDeviceWidth,settings:{slidesToShow:2}},{breakpoint:se.maxDeviceWidth,settings:{slidesToShow:1}}]},de=function(e){var t=e.items,a=e.onCardItemClick,r=e.selectedDate,c=e.setCurrentDate,o=e.currentMetric,i=Object(n.useState)(0),s=Object(u.a)(i,2),l=s[0],d=s[1],f=Object(n.useRef)(null),m=Object(P.useMediaQuery)(se),p=Object(P.useMediaQuery)(ue);le.afterChange=function(e){if(d(e),m){var a=t[e];a&&c(b()(a.dt_txt).format("DD/MM/YYYY"))}};var j=l>0,h=!!t[l+(m?1:p?2:3)];return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(oe.a,{component:"div",className:A()(L.a["controls-container"],Object(k.a)({},L.a["controls-left"],j&&!h),Object(k.a)({},L.a["controls-right"],h&&!j)),children:[j&&Object(ne.jsx)(ie.a,{className:L.a.controls,onClick:function(){f.current.slickPrev()},children:Object(ne.jsx)(N.a,{fontSize:"large"})}),h&&Object(ne.jsx)(ie.a,{className:L.a.controls,onClick:function(){f.current.slickNext()},children:Object(ne.jsx)(Y.a,{fontSize:"large"})})]}),Object(ne.jsx)(w.a,Object(D.a)(Object(D.a)({ref:f},le),{},{children:t.map((function(e){return Object(ne.jsx)(ce,{currentMetric:o,selectedDate:r,onClick:a,weatherData:e},I.a)}))}))]})};de.defaultProps={selectedDate:null};var be=de,fe=a(336),me=a(330),pe=a(54),je=a.n(pe),he=a(329),ge=a(333),Oe=Object(he.a)({root:{fontWeight:"bold !important","&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#426CC0",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))","&:before":{display:"block",width:16,height:16,backgroundImage:"radial-gradient(#fff,#fff 28%,transparent 32%)",content:'""'},"input:hover ~ &":{backgroundColor:"#426CC0"}}}),ve=function(e){var t=Oe();return Object(ne.jsx)(ge.a,Object(D.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(ne.jsx)("span",{className:A()(t.icon,t.checkedIcon)}),icon:Object(ne.jsx)("span",{className:t.icon})},e))},xe=function(e){var t=e.onChange,a=e.value;return Object(ne.jsx)(oe.a,{component:"div",className:je.a["metric-switch-controls"],children:Object(ne.jsxs)(fe.a,{className:je.a["metric-switch-radio-group"],value:a,onChange:t,name:"radio-button-metric",children:[Object(ne.jsx)(me.a,{role:"radio",className:je.a["switch-control"],value:Z,control:Object(ne.jsx)(ve,{}),checked:a===Z,label:X}),Object(ne.jsx)(me.a,{role:"radio",className:je.a["switch-control"],value:$,checked:a===$,control:Object(ne.jsx)(ve,{}),label:V})]})})};xe.defaultProps={value:null};var ye=xe,_e=a(137),Ce=a.n(_e),Se=function(){return Object(ne.jsx)(oe.a,{className:Ce.a.box,children:Object(ne.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"h5",align:"center",children:"Loading..."})})},Te=a(144),De=a(140),ke=a.n(De),Ee=function(e){return{maintainAspectRatio:!1,scales:{yAxis:[{ticks:{display:!0,beginAtZero:!0,callback:function(t,a,n){return"".concat(t," ").concat(K[e])}}}]}}},we=function(e){var t=e.data,a=e.metric,n={labels:t.map((function(e){return b()(e.dt_txt).format("h:mm A")})),datasets:[{label:"Temperatures in ".concat(K[a]),data:t.map((function(e){return ae(e.main.temp)})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderWidth:1}]};return Object(ne.jsx)(oe.a,{className:ke.a.box,children:Object(ne.jsx)(Te.a,{type:"vertical",data:n,options:Ee(e.metric)})})},Re=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(o.b)(),i=Object(o.c)((function(e){var t=e.forecasts,a=e.ui;return{forecastsForNextDays:t.forNextDays,forecastsByDate:t.byDate,currentMetric:t.currentMetric,loading:a.loading[T]}})),s=i.forecastsForNextDays,d=i.loading,f=i.currentMetric,m=i.forecastsByDate,g=function(e){return c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:p.START,meta:{params:e}}}(e))};Object(n.useEffect)((function(){return g({q:"Munich,de",units:"metric"}),function(){c({type:j.START})}}),[]),Object(n.useEffect)((function(){(null===s||void 0===s?void 0:s.length)&&c({type:h,meta:{metric:f}}),O&&r(O)}),[f]),Object(n.useEffect)((function(){if(null===s||void 0===s?void 0:s.length){var e=s[0],t=O||b()(e.dt_txt).format("DD/MM/YYYY");r(t)}}),[s]);var O=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(a),x=m[a];return d?Object(ne.jsx)(Se,{}):Object(ne.jsxs)(l.a,{children:[Object(ne.jsx)(ye,{value:f,onChange:function(e){return c(v(e.target.value))}}),Object(ne.jsx)(be,{currentMetric:f,setCurrentDate:r,metric:f,selectedDate:a,items:s,onCardItemClick:function(e){return r(e)}}),x&&Object(ne.jsx)(we,{metric:f,data:x})]})},Ae=function(){return Object(ne.jsx)("div",{children:Object(ne.jsx)(i.a,{children:Object(ne.jsx)(s.c,{children:Object(ne.jsx)(s.a,{path:"/",component:Re})})})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,339)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},Ne=a(10),Fe=a(145),Ye=(a(142),a(44)),Ie={currentMetric:Z,byList:[],byDate:{},forNextDays:[]},Pe={pagination:{default:{cnt:40}},loading:{},errors:{}},We={forecasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case g:case p.SUCCESS:var r=a,c=Object(Ye.groupBy)(r,(function(e){return b()(e.dt_txt).format("DD/MM/YYYY")})),o=Object.values(c).map((function(e){var t=Object(D.a)({},Object(Ye.last)(e)),a=e.reduce((function(e,t){var a;return e+(null===t||void 0===t||null===(a=t.main)||void 0===a?void 0:a.temp)}),0);return Object(D.a)(Object(D.a)({},t),{},{avg_temp:a/e.length})}));return Object.assign({},e,{byList:r,byDate:c,forNextDays:o});case O:return Object(D.a)(Object(D.a)({},e),{},{currentMetric:a});case j:return Ie;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.key;switch(t.type){case C:return Object.assign({},e,{loading:Object(D.a)(Object(D.a)({},e.loading),{},Object(k.a)({},n,a))});case y:var r=e.pagination,c=r[n]||r.default;return Object.assign({},e,{pagination:Object(D.a)(Object(D.a)({},e.pagination),{},Object(k.a)({},n,Object(D.a)(Object(D.a)({},c),a)))});case _:return Object.assign({},e,{errors:Object(D.a)(Object(D.a)({},e.errors),{},Object(k.a)({},n,a))});default:return e}}},Le=a(143),Ue=a.n(Le).a.create({baseURL:"https://api.openweathermap.org/data/2.5/",method:"GET",params:{APPID:"75f972b80e26f14fe6c920aa6a85ad57"}});Ue.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Ue.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response){if("ECONNABORTED"===e.code)throw new Error("Network timeout, please try again");throw e.response.data}throw e.request?(e.message="This request is taking too long, please check your network",e):e}));var qe=[function(e){var t=e.dispatch;return function(e){return function(a){if(a.type===x.START){var n=a.meta,r=n.method,c=void 0===r?"GET":r,o=n.url,i=n.key,s=n.payload,u=n.onError,l=n.params,d=n.onSuccess;t(S(i,!0));var b={method:c,url:o};s&&(!Object(Ye.isEmpty)(s)||s instanceof FormData)&&(b.data=s),l&&!Object(Ye.isEmpty)(l)&&(b.params=l),function(e){return Ue(e)}(b).then((function(e){d&&("function"===typeof d?d(e):t({type:d,payload:e}))})).catch((function(e){if(u){if("function"!==typeof u)throw new Error("onError parameter should be a function");u(e.message)}else t(function(e,t){return{type:_,key:e,payload:t}}(i,e.message))})).finally((function(){return t(S(i,!1))}))}return e(a)}}}],Be=a(146),Je=[function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===p.START){var r=a().ui.pagination,c=n.meta,o=c.key,i=void 0===o?T:o,s=c.params,u=Object(Be.a)(c,["key","params"]),l=r.default;t((d=Object(D.a)({url:"/forecast",key:i,params:Object(D.a)(Object(D.a)({},s),l),onSuccess:function(e){t({type:p.SUCCESS,payload:(null===e||void 0===e?void 0:e.list)||[]})}},u),{type:x.START,meta:d}))}var d}}},function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(e(n),n.type===h){var r=n.meta.metric,c=a().forecasts.byList;if(!r||!(null===c||void 0===c?void 0:c.length))return;var o=c.map((function(e){var t,a,n,c,o=Z===r?te:ee;return Object(D.a)(Object(D.a)({},e),{},{main:Object(D.a)(Object(D.a)({},e.main),{},{temp:o(null===(t=e.main)||void 0===t?void 0:t.temp),feels_like:o(null===(a=e.main)||void 0===a?void 0:a.feels_like),temp_min:o(null===(n=e.main)||void 0===n?void 0:n.temp_min),temp_max:o(null===(c=e.main)||void 0===c?void 0:c.temp_max)})})}));t(function(e){return{type:g,payload:e}}(o)),t(v(r))}}}}],Ge=[].concat(Object(Ne.a)(qe),Object(Ne.a)(Je)),Qe=Object(Ne.a)(Ge);var ze=Object(Fe.a)({reducer:We,devTools:false,middleware:function(e){return e({serializableCheck:!1}).concat(Qe)}}),He=(a(303),a(93)),Xe=a(55);He.b.add(Xe.c,Xe.a,Xe.d,Xe.b),He.a.watch(),c.a.render(Object(ne.jsx)(o.a,{store:ze,children:Object(ne.jsx)(Ae,{})}),document.getElementById("root")),Me()},45:function(e,t,a){e.exports={"controls-container":"ForecastCarousel_controls-container__1bMfN","controls-left":"ForecastCarousel_controls-left__1JfkU","controls-right":"ForecastCarousel_controls-right__178rj",controls:"ForecastCarousel_controls__2NXQJ"}},54:function(e,t,a){e.exports={"metric-switch-controls":"MetricSwitcher_metric-switch-controls__H4m2O","metric-switch-radio-group":"MetricSwitcher_metric-switch-radio-group__3BEwg","switch-control":"MetricSwitcher_switch-control__Bx3rE"}},74:function(e,t,a){e.exports={card:"Forecast_card__JO3L4",selected:"Forecast_selected__1JvvX",image:"Forecast_image__1OyC1"}}},[[306,1,2]]]);
//# sourceMappingURL=main.f1738ec3.chunk.js.map